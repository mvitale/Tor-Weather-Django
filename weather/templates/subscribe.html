{% extends "generic_form.html" %}

{% block head-tag %}
<head id="subscribe-page">
{% endblock head-tag %}

{% block header %}
Tor Weather - Sign Up!
{% endblock header %}

{% block title %}
Tor Weather - Sign Up!
{% endblock title %}

{% block extra_script %}
<script type="text/javascript" src="/media/dimensions.js"></script>
<script type="text/javascript" src="/media/autocomplete.js"></script>
{% endblock extra_script %}

{% block extra_css %}
<link type="text/css" rel="stylesheet" href="/media/autocomplete.css">
{% endblock extra_css %}

{% block form-tag %}
<form method="post" action="/subscribe/" id="subscribe-form">{% csrf_token %}
{% endblock form-tag %}

{% block user-info %}
<div class="field-container">
	<p>{{ form.email_1.label_tag }}</p>
	{% for error in form.email_1.errors %}
	<p class="form-error">{{ error|safe }}</p>
	{% endfor %}
	{{ form.email_1 }}
</div>

<div class="field-container">
	<p>{{ form.email_2.label_tag }}</p>
	{% for error in form.email_2.errors %}
	<p class="form-error">{{ error|safe }}</p>
	{% endfor %}
	{{ form.email_2 }}
</div>

<div id="fingerprint-row">
	<div class="field-container" id="fingerprint-container">
		<p>
			{{ form.fingerprint.label_tag }}
			<a href="Javascript:void()"><span>(search by router name)</span></a>
		</p>
		{% for error in form.fingerprint.errors %}
		<p class="form-error">{{ error|safe}}</p>
		{% endfor %}
		{{ form.fingerprint }}
	</div>

	<div class="field-container" id="search-container">
		<script type="text/javascript" ><!--
			$(function(){
				setAutoComplete("search", "results", "/router_lookup/?query=");
			});
		--></script>
		<p>
			<label for="search">Enter router name, then click the arrow:</label>
		</p>
		<button type="button" id="router-search-submit" name="router-search-submit" value="<">&lt;</button>
		<input id="search" name="search" type="text" autocomplete="off" />
		<div id="router-results"></div>
	</div>
</div>
{% endblock user-info %}

{% block submit-button %}
<input id="submit-button" type="submit" value="Subscribe to Tor Weather!" />
{% endblock submit-button %}
